# Markdownエディタ要件定義

## 概要
SPAベースのMarkdownエディタアプリケーション。AIアシスタント機能を搭載し、ローカルストレージで編集内容を管理する。

## 機能要件

### 1. 画面構成
- **設定画面**: Gemini APIキーの入力・保存
- **編集画面**: 3カラムレイアウト（テキストエディタ、プレビュー、ファイルツリー）

### 2. テキストエディタ機能
- Markdownテキストの編集
- ツールバー
  - AIアシストボタン
  - Undo/Redoボタン
- AI機能（Gemini API連携）
  - テキスト生成・編集
  - コンテキスト送信（前後1000文字）
  - 選択テキストの置換/カーソル位置への挿入

### 3. ファイル管理
- ファイルツリー表示
- ファイル/ディレクトリ作成
- コンテキストメニュー（名前変更、コピー、削除）
- 右クリック/長押し対応

### 4. データ永続化
- IndexedDBによるローカル保存
- 自動保存（1分間隔）
- 履歴管理
  - Compression Streams APIによる圧縮
  - 差分がある場合のみ保存

### 5. レスポンシブデザイン
- デスクトップ: 3カラム表示
- モバイル: 単一ビュー切り替え（フッタボタン）

## 技術要件
- SPA（Single Page Application）
- IndexedDB
- Compression Streams API
- Gemini API
- レスポンシブデザイン対応